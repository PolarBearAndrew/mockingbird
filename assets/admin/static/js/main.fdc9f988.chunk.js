(this["webpackJsonpmockingbird-prototype"]=this["webpackJsonpmockingbird-prototype"]||[]).push([[0],{414:function(e,t,n){},415:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n(0),a=n(20),i=n.n(a),s=n(33),o=n(34),u=n(416),d=n(69),l=n(39),j=n(419),p=[{path:"/admin/routes",title:"Proxy & Mockers"},{path:"/admin/docs",title:"Documents"}];function b(){var e=j.a.Item;return Object(r.jsx)(j.a,{style:{width:256,height:"100%"},defaultSelectedKeys:[p[0].path],mode:"inline",children:p.map((function(t,n){return Object(r.jsx)(e,{title:t.title,children:Object(r.jsx)(d.b,{exact:!0,to:t.path,children:t.title},n)},t.path)}))})}var x=n.p+"static/media/logo.4e3ea0cf.svg",h="#001529",f="#b457a0",O="#676669",y="#282c34",v="white";function m(){var e=Object(s.a)(["\n  margin: 12px 12px 12px 5px;\n  color: ",";\n"]);return m=function(){return e},e}function g(){var e=Object(s.a)(["\n  width: 50px;\n  height: 50px;\n"]);return g=function(){return e},e}function k(){var e=u.a.Header;return Object(r.jsxs)(e,{style:{display:"flex",alignItems:"center",justifyContent:"left",padding:"0 18px"},children:[Object(r.jsx)(d.b,{to:"/admin",children:Object(r.jsx)(w,{src:x,alt:""})}),Object(r.jsx)(d.b,{to:"/admin",children:Object(r.jsx)(C,{children:" Mockingbird "})})]})}var w=o.a.img(g()),C=o.a.h1(m(),v),M=n(220),S=n(7);function T(){var e=Object(s.a)(["\n  animation: ",";\n  @keyframes blinker {\n    50% { opacity: 0; };\n  }\n"]);return T=function(){return e},e}function P(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: flex-start;\n"]);return P=function(){return e},e}var B=o.a.div(P()),E=o.a.span(T(),(function(e){return e.blink?"blinker .8s step-start infinite":"none"})),A=function(e){var t=Object(c.useState)({idx:0,text:"",direction:1}),n=Object(S.a)(t,2),a=n[0],i=n[1],s=e.list,o=e.sentenceDelay,u=e.typingDelay,d=e.sentenceShowTime,l=e.backspaceDelay,j=Object(c.useCallback)((function(){-1!==a.direction||0!==a.text.length?a.text.length!==s[a.idx].length?setTimeout((function(){i({idx:a.idx,direction:a.direction,text:s[a.idx].substring(0,a.text.length+a.direction)})}),1===a.direction?u:l):setTimeout((function(){i({idx:a.idx,direction:-1,text:s[a.idx].substring(0,a.text.length-1)})}),d):setTimeout((function(){i({direction:1,text:"",idx:a.idx<s.length-1?a.idx+1:0})}),o)}),[s,o,u,d,l,a.direction,a.idx,a.text.length]);return Object(c.useEffect)((function(){setTimeout(j,0)}),[j]),Object(r.jsxs)(B,{children:[a.text,Object(r.jsx)(E,{blink:a.text.length===e.list[a.idx].length,children:"|"})]})};function R(){var e=Object(s.a)(["\n  flex-grow: 3;\n  padding: 80px 0 180px 0; \n"]);return R=function(){return e},e}function U(){var e=Object(s.a)(["\n  margin-left: calc(50% - 275px);\n  flex-grow: 1;\n  font-size: 3em;\n  display: flex;\n  justify-content: flex-start;\n"]);return U=function(){return e},e}function I(){var e=Object(s.a)(["\n  font-size: 5em;\n"]);return I=function(){return e},e}function D(){var e=Object(s.a)(["\n  width: 18%;\n  margin: 0 auto;\n  flex-grow: 1;\n"]);return D=function(){return e},e}function q(){var e=Object(s.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  color: ",";\n  text-align: center;\n\n  display: flex;\n  text-align: center;\n  flex-direction: column;\n  height: 100%;\n  background-color: ",";\n  > * {\n    background-color: ",";\n  }\n"]);return q=function(){return e},e}var L=o.a.div(q(),v,h,h),H=o.a.img(D()),z=o.a.div(I()),J=o.a.div(U()),V=o.a.div(R()),F=function(){return Object(r.jsxs)(L,{children:[Object(r.jsx)(u.a,{children:Object(r.jsx)(u.a.Header,{style:{backgroundColor:f}})}),Object(r.jsx)(H,{src:x,alt:""}),Object(r.jsx)(z,{children:"Mockingbrid"}),Object(r.jsxs)(J,{children:[Object(r.jsx)("span",{style:{color:f,marginRight:12},children:"Mockingbird"}),Object(r.jsx)("span",{style:{marginRight:12},children:"your"}),Object(r.jsx)("div",{children:Object(r.jsx)(A,{typingDelay:80,backspaceDelay:40,sentenceShowTime:2e3,sentenceDelay:600,list:["API drafts.","developing APIs.","chaos test.","canary update.","alpha release."]})})]}),Object(r.jsx)(d.b,{to:"/admin/routes",children:Object(r.jsx)(V,{children:Object(r.jsx)(M.a,{ghost:!0,size:"large",children:"Get Start"})})})]})},G=n(1),N=n(12),K=n.n(N),Q=n(31),W=n(430),X=n(431),Y=n(100),Z=n(58),$=n(417),_=n(421);var ee=function(e){if(!e.title)return null;var t=_.a.Title;return Object(r.jsx)(t,{style:{margin:"24px 0 12px 0"},children:e.title})},te=n(6),ne=n(422),re=n(423),ce=n(420),ae=n(424),ie=n(425),se=n(224),oe=["success","info","error","warning"].reduce((function(e,t){return e[t]=function(e,n){return r=t,c=e,a=n,se.a[r]({message:c,description:a,duration:20});var r,c,a},e}),{}),ue=ne.a.Option;function de(e){switch(e){case"toCreate":return"Create";case"toUpdate":return"save";default:throw new Error("unknown action")}}function le(e){var t=_.a.Text,n=Object(c.useState)(e.data),a=Object(S.a)(n,2),i=a[0],s=a[1],o=function(e){return function(t){return s(Object(G.a)(Object(G.a)({},i),{},Object(te.a)({},e,t)))}};return Object(r.jsx)(re.a,{title:"toCreate"===e.action?"Create a new mocker endpoint":"Update mocker ".concat(e.data.id),width:720,onClose:e.onClose,visible:e.visible,bodyStyle:{paddingBottom:80},footer:Object(r.jsxs)("div",{style:{textAlign:"right"},children:[Object(r.jsxs)(t,{type:"secondary",style:{marginRight:8},children:["Last update by ",e.data.createBy||"AndrewChen"]}),Object(r.jsx)(M.a,{onClick:e.onClose,style:{marginRight:8},children:"Cancel"}),Object(r.jsx)(M.a,{onClick:function(){return e.onComplete(i)},type:"primary",children:de(e.action)})]}),children:Object(r.jsxs)(ce.a,{layout:"vertical",hideRequiredMark:!0,children:[Object(r.jsxs)(Y.a,{gutter:16,children:[Object(r.jsx)(Z.a,{span:12,children:Object(r.jsx)(ce.a.Item,{name:"reqMethod",label:"Method",initialValue:i.reqMethod,rules:[{required:!0,message:"Please select an HTTP method"}],children:Object(r.jsxs)(ne.a,{placeholder:"Please select an HTTP method",onChange:o("reqMethod"),children:[Object(r.jsx)(ue,{value:"GET",children:"GET"}),Object(r.jsx)(ue,{value:"POST",children:"POST"}),Object(r.jsx)(ue,{value:"PUT",children:"PUT"}),Object(r.jsx)(ue,{value:"DELETE",children:"DELETE"})]})})}),Object(r.jsx)(Z.a,{span:12,children:Object(r.jsx)(ce.a.Item,{name:"resStatus",label:"HTTP status code",initialValue:i.resStatus,rules:[{required:!0,message:"Please enter the HTTP status"}],children:Object(r.jsx)(ae.a,{placeholder:"200/201/403/404/500",onChange:function(e){try{o("resStatus")(parseInt(e.target.value,10))}catch(t){oe.warning("Response status should be a number.","200/201/403/404/500")}}})})})]}),Object(r.jsx)(Y.a,{gutter:16,children:Object(r.jsx)(Z.a,{span:24,children:Object(r.jsx)(ce.a.Item,{name:"prefix",label:"Prefix",initialValue:i.prefix,rules:[{required:!0,message:"Please enter endpoint prefix"}],children:Object(r.jsx)(ae.a,{style:{width:"100%"},addonBefore:"http://localhost:10001",onChange:function(e){return o("prefix")(e.target.value)},placeholder:"/api/test/123"})})})}),Object(r.jsx)(Y.a,{gutter:16,children:Object(r.jsx)(Z.a,{span:24,children:Object(r.jsx)(ce.a.Item,{name:"resBody",label:"Response body",initialValue:i.resBody,rules:[{required:!0,message:"Enter the mock JSON you want."}],children:Object(r.jsx)(ae.a.TextArea,{rows:8,onChange:function(e){return o("resBody")(e.target.value)},placeholder:'{ "demo": true }'})})})}),Object(r.jsx)(Y.a,{gutter:16,children:Object(r.jsx)(Z.a,{span:24,children:Object(r.jsx)(ce.a.Item,{name:"desc",label:"Description",initialValue:i.desc,rules:[{required:!0,message:"please enter some descriptions"}],children:Object(r.jsx)(ae.a.TextArea,{rows:8,onChange:function(e){return o("desc")(e.target.value)},placeholder:"please enter some descriptions"})})})}),Object(r.jsx)(Y.a,{gutter:16,children:Object(r.jsx)(Z.a,{span:8,children:Object(r.jsx)(ce.a.Item,{children:Object(r.jsx)(ie.a,{checkedChildren:"active",unCheckedChildren:"inactive",checked:"active"===i.status,onChange:function(e){return o("status")(e?"active":"inactive")},defaultChecked:!0})})})})]})})}var je=n(418),pe=n(426),be=n(84);var xe=function(e){if(!e.code)return null;var t;switch(100*Math.floor(e.code/100)){case 200:t=Object(r.jsx)(pe.a,{color:"green",children:e.code});break;case 400:t=Object(r.jsx)(pe.a,{color:"orange",children:e.code});break;case 500:t=Object(r.jsx)(pe.a,{color:"red",children:e.code});break;default:t=Object(r.jsx)(pe.a,{children:e.code})}return Object(r.jsx)(be.a,{placement:"top",title:"HTTP status code",children:t})},he=n(215),fe=n.n(he);function Oe(){var e=Object(s.a)(["\n  padding: 16px 12px 2px 12px;\n  margin: 4px 0;\n  border-radius: 8px;\n  min-width: 400px;\n  max-width: 800px;\n  background-color: ","\n"]);return Oe=function(){return e},e}var ye,ve=o.a.div(Oe(),y),me=function(e){return Object(r.jsx)(ve,{children:Object(r.jsx)(fe.a,{id:"json-pretty",style:{fontSize:".9em"},theme:{main:"line-height:1.3;color:".concat(O,";background:").concat(y,";overflow:auto;"),error:"line-height:1.3;color:".concat(O,";background:").concat(y,";overflow:auto;"),key:"color:#d19130;",string:"color:#91ba45;",value:"color:".concat(v,";"),boolean:"color:#cc4954;"},data:e.jsonStr})})},ge=n(427),ke=n(428),we=n(429),Ce=n(9),Me=n(65),Se=n.n(Me),Te=n(129),Pe=n.n(Te),Be="http://localhost:3000";function Ee(){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(Q.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se.a.get("".concat(Be,"/api/mocker"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),oe.error("listMockers failed",e.t0.message),e.abrupt("return",{mockers:[]});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Re(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(Q.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se.a.put("".concat(Be,"/api/mocker/").concat(t.id),Object(G.a)({},Pe()(t,"id")));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error("update failed",e.t0),oe.error("update failed",e.t0.message),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Ie(e){return De.apply(this,arguments)}function De(){return(De=Object(Q.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se.a.post("".concat(Be,"/api/mocker"),Object(G.a)({},t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error("create failed",e.t0,JSON.stringify(e.t0)),oe.error("create failed",e.t0.message),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function qe(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se.a.delete("".concat(Be,"/api/mocker/").concat(t));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),console.error("delete failed",e.t0,JSON.stringify(e.t0)),oe.error("delete failed",e.t0.message),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function He(){return[]}function ze(e,t){switch(t.type){case ye.RefreshList:return Array.isArray(t.payload)?Object(Ce.a)(t.payload):[];case ye.UpdateMocker:return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case ye.AddMocker:return[t.payload].concat(Object(Ce.a)(e));case ye.RemoveMocker:return e.filter((function(e){return e.id!==t.payload.id}));default:throw new Error}}function Je(){var e=Object(s.a)(["\n  padding: 4px 0;\n"]);return Je=function(){return e},e}function Ve(){var e=Object(s.a)(["\n  margin: 0 4px 0 0;\n"]);return Ve=function(){return e},e}function Fe(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n"]);return Fe=function(){return e},e}!function(e){e[e.RefreshList=0]="RefreshList",e[e.UpdateMocker=1]="UpdateMocker",e[e.AddMocker=2]="AddMocker",e[e.RemoveMocker=3]="RemoveMocker"}(ye||(ye={}));var Ge,Ne=o.a.div(Fe()),Ke=o.a.span(Ve()),Qe=o.a.div(Je()),We=function(e){var t,n=_.a.Text,c=e.mocker,a=e.mockerDispatcher,i=(t=a,function(){var e=Object(Q.a)(K.a.mark((function e(n){var r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ye.UpdateMocker,payload:Object(G.a)(Object(G.a)({},n),{},{status:"updating"})}),r="active"===n.status?"inactive":"active",e.next=4,Re(Object(G.a)(Object(G.a)({},n),{},{status:r}));case 4:(c=e.sent).mocker?(oe.success("Successfully update mocker status to ".concat(r,"."),"Please wait few second for the backend service to update the Envoy proxy."),t({type:ye.UpdateMocker,payload:Object(G.a)({},c.mocker)})):t({type:ye.UpdateMocker,payload:Object(G.a)({},n)});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s=c.desc||"This mockers doesn't have any descriptions",o="active"===c.status?Object(r.jsx)(n,{strong:!0,type:"success",children:"Active"}):"inactive"===c.status?Object(r.jsx)(n,{children:"Inactive"}):"updating"===c.status?Object(r.jsx)(ge.a,{style:{fontSize:13},spin:!0}):Object(r.jsx)(n,{type:"danger",children:"unknown"});return Object(r.jsxs)(je.a,{hoverable:!0,bordered:!1,extra:Object(r.jsx)("div",{style:{padding:"4px 12px"},onClick:function(){return i(c)},children:o}),title:"".concat(c.reqMethod," ").concat(c.prefix),style:{marginBottom:"24px",opacity:"active"===c.status?1:".5"},actions:[Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)(ke.a,{onClick:function(){c.id?e.onDeleteBtnClick(c.id):oe.warning("MockerId not found","")}},"delete"),Object(r.jsx)(we.a,{onClick:function(){c.id?e.onEditBtnClick(c.id):oe.warning("MockerId not found","")}},"edit")],children:[Object(r.jsxs)(Ne,{children:[Object(r.jsx)(Ke,{children:Object(r.jsx)(xe,{code:c.resStatus})}),Object(r.jsx)(Ke,{children:Object(r.jsx)(pe.a,{children:"Mocker"})}),Object(r.jsx)(Ke,{children:Object(r.jsx)(pe.a,{children:"ID  ".concat(c.id)})})]}),Object(r.jsx)(Qe,{children:Object(r.jsx)(me,{jsonStr:c.resBody})}),s.split("\n").map((function(e,t){return Object(r.jsxs)("span",{children:[Object(r.jsx)(n,{type:"secondary",children:e}),Object(r.jsx)("br",{})]},t)}))]})};function Xe(e){return Object(r.jsx)(r.Fragment,{children:e.mockers.map((function(t,n){return Object(r.jsx)(We,{mocker:t,onEditBtnClick:e.onEditBtnClick,onDeleteBtnClick:e.onDeleteBtnClick,mockerDispatcher:e.mockerDispatcher},n)}))})}function Ye(){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(Q.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se.a.get("".concat(Be,"/api/proxy"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),oe.error("list proxy failed",e.t0.message),e.abrupt("return",{proxies:[]});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function $e(){return[]}function _e(e,t){switch(t.type){case Ge.RefreshList:return Array.isArray(t.payload)?Object(Ce.a)(t.payload):[];case Ge.UpdateProxy:return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case Ge.AddProxy:return[t.payload].concat(Object(Ce.a)(e));case Ge.RemoveProxy:return e.filter((function(e){return e.id!==t.payload.id}));default:throw new Error}}function et(){var e=Object(s.a)(["\n  margin: 0 4px 0 0;\n"]);return et=function(){return e},e}function tt(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n"]);return tt=function(){return e},e}!function(e){e[e.RefreshList=0]="RefreshList",e[e.UpdateProxy=1]="UpdateProxy",e[e.AddProxy=2]="AddProxy",e[e.RemoveProxy=3]="RemoveProxy"}(Ge||(Ge={}));var nt=o.a.div(tt()),rt=o.a.span(et()),ct=function(e){var t=_.a.Text,n=e.proxy,c=n.desc||"This proxy doesn't have any descriptions",a="active"===n.status?Object(r.jsx)(t,{strong:!0,type:"success",children:"Active"}):"inactive"===n.status?Object(r.jsx)(t,{children:"Inactive"}):"updating"===n.status?Object(r.jsx)(ge.a,{style:{fontSize:13},spin:!0}):Object(r.jsx)(t,{type:"danger",children:"unknown"});return Object(r.jsxs)(je.a,{hoverable:!0,bordered:!1,extra:Object(r.jsx)("div",{style:{padding:"4px 12px"},children:a}),title:"".concat(n.reqMethod," ").concat(n.prefix),style:{marginBottom:"24px",opacity:"active"===n.status?1:".5"},actions:[Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)(ke.a,{disabled:!0},"delete"),Object(r.jsx)(we.a,{disabled:!0},"edit")],children:[Object(r.jsxs)(nt,{children:[Object(r.jsx)(rt,{children:Object(r.jsx)(pe.a,{children:"Proxy"})}),Object(r.jsx)(rt,{children:Object(r.jsx)(pe.a,{children:"ID  ".concat(n.id)})})]}),c.split("\n").map((function(e,n){return Object(r.jsxs)("span",{children:[Object(r.jsx)(t,{type:"secondary",children:e}),Object(r.jsx)("br",{})]},n)}))]})};function at(e){return Object(r.jsx)(r.Fragment,{children:e.proxies.map((function(e,t){return Object(r.jsx)(ct,{proxy:e},t)}))})}function it(){var e=Object(s.a)(["\n  display: flex;\n  width: 200px;\n  justify-content: flex-start;\n\n  > * {\n    margin-right: 12px;\n  }\n"]);return it=function(){return e},e}function st(){var e=Object(s.a)(["\n  padding: 0 0 0 24px;\n"]);return st=function(){return e},e}var ot={prefix:"",reqMethod:"GET",resStatus:200,resBody:"",desc:"",createBy:"AndrewChen",status:"active"};var ut=o.a.div(st()),dt=o.a.div(it()),lt=function(){var e,t=Object(c.useReducer)(ze,[],He),n=Object(S.a)(t,2),a=n[0],i=n[1],s=Object(c.useReducer)(_e,[],$e),o=Object(S.a)(s,2),u=o[0],d=o[1],l=Object(c.useState)(!1),j=Object(S.a)(l,2),p=j[0],b=j[1],x=(e=d,Object(Q.a)(K.a.mark((function t(){var n;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ye();case 2:n=t.sent,e({type:Ge.RefreshList,payload:n.proxies});case 4:case"end":return t.stop()}}),t)})))),h=function(e){return Object(Q.a)(K.a.mark((function t(){var n;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee();case 2:n=t.sent,e({type:ye.RefreshList,payload:n.mockers});case 4:case"end":return t.stop()}}),t)})))}(i),f=function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ie(Object(G.a)({},n));case 2:if((r=t.sent).mocker){t.next=5;break}return t.abrupt("return",!1);case 5:return oe.success("Successfully create a new mocker.","Please wait few second for the backend service to update the Envoy proxy."),e({type:ye.AddMocker,payload:Object(G.a)({},r.mocker)}),t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i),O=function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:ye.UpdateMocker,payload:Object(G.a)(Object(G.a)({},n),{},{status:"updating"})}),t.next=3,Re(Object(G.a)({},n));case 3:if((r=t.sent).mocker){t.next=7;break}return e({type:ye.UpdateMocker,payload:Object(G.a)({},n)}),t.abrupt("return",!1);case 7:return oe.success("Successfully update mocker.","Please wait few second for the backend service to update the Envoy proxy."),e({type:ye.UpdateMocker,payload:Object(G.a)({},r.mocker)}),t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i),y=function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qe(n);case 2:if(t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:return oe.success("Successfully create a new mocker.","Please wait few second for the backend service to update the Envoy proxy."),e({type:ye.RemoveMocker,payload:{id:n}}),t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i),v=Object(c.useState)({visible:!1}),m=Object(S.a)(v,2),g=m[0],k=m[1];return Object(c.useEffect)((function(){0===a.length&&(b(!0),setTimeout((function(){h(),x(),b(!1)}),800))}),[a.length,h,x]),Object(r.jsxs)(ut,{children:[Object(r.jsx)(ee,{title:"Proxy & Mockers"}),Object(r.jsxs)(dt,{children:[Object(r.jsx)(M.a,{type:"primary",shape:"circle",icon:Object(r.jsx)(W.a,{}),onClick:function(){return k({visible:!0,action:"toCreate"})}}),Object(r.jsx)(M.a,{shape:"circle",loading:p,icon:Object(r.jsx)(X.a,{}),onClick:Object(Q.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,h();case 3:return e.next=5,x();case 5:setTimeout((function(){return b(!1)}),650);case 6:case"end":return e.stop()}}),e)})))})]}),Object(r.jsx)(Y.a,{gutter:16,children:Object(r.jsxs)(Z.a,{span:12,children:[Object(r.jsx)($.a,{orientation:"left",children:"Mockers"}),Object(r.jsx)(Xe,{mockers:a,onDeleteBtnClick:y,onEditBtnClick:function(e){var t=a.find((function(t){return t.id===e}));t?k({visible:!0,action:"toUpdate",data:t}):oe.warning("Start editor failed","Mocker ".concat(e," not found"))},mockerDispatcher:i})]})}),Object(r.jsx)(Y.a,{gutter:16,children:Object(r.jsxs)(Z.a,{span:12,children:[Object(r.jsx)($.a,{orientation:"left",children:"Proxies"}),Object(r.jsx)(at,{proxies:u})]})}),g.visible&&Object(r.jsx)(le,{action:g.action,visible:g.visible,data:"toUpdate"===g.action?g.data:Object(G.a)({},ot),onClose:function(){return k({visible:!1})},onComplete:function(){var e=Object(Q.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,"toCreate"!==g.action){e.next=7;break}return e.next=4,f({prefix:t.prefix,reqMethod:t.reqMethod,resStatus:t.resStatus,resBody:t.resBody,desc:t.desc,createBy:t.createBy,status:t.status});case 4:n=e.sent,e.next=11;break;case 7:if("toUpdate"!==g.action){e.next=11;break}return e.next=10,O({id:t.id,prefix:t.prefix,reqMethod:t.reqMethod,resStatus:t.resStatus,resBody:t.resBody,desc:t.desc,createBy:t.createBy,status:t.status});case 10:n=e.sent;case 11:n&&k({visible:!1});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})};n(414);function jt(){var e=Object(s.a)(['\n  padding: 0;\n  margin: 0;\n  font-size: .9em;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol" !important; // ??\n']);return jt=function(){return e},e}var pt=o.a.div(jt()),bt=function(){var e=u.a.Sider,t=u.a.Content,n=u.a.Footer;return Object(r.jsx)(pt,{className:"App",children:Object(r.jsx)(d.a,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{exact:!0,path:"/admin",children:Object(r.jsx)(F,{})}),Object(r.jsx)(l.a,{path:"/",children:Object(r.jsxs)(u.a,{children:[Object(r.jsx)(k,{}),Object(r.jsxs)(u.a,{children:[Object(r.jsx)(e,{width:256,children:Object(r.jsx)(b,{})}),Object(r.jsxs)(t,{children:[Object(r.jsx)(l.c,{children:Object(r.jsx)(l.a,{exact:!0,path:"/admin/routes",children:Object(r.jsx)(lt,{})})}),Object(r.jsx)(n,{children:"Made by AndrewChen"})]})]})]})})]})})})};i.a.render(Object(r.jsx)(bt,{}),document.getElementById("root"))}},[[415,1,2]]]);
//# sourceMappingURL=main.fdc9f988.chunk.js.map